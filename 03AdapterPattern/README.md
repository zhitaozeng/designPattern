# **适配器模式**

1.前言

小李有一台老的台式电脑，硬盘实在是太小了，仅仅是40GB。但是除了这个问题之外，整个电脑的性能还算不错的，废弃不用太可惜了，所以小李决定去换一块硬盘。

装机公司帮小李装好硬盘后，细心的小李发现，两个硬盘的连接方式是不一样的。经过装机人员的耐心讲解，小李终于弄懂了他们之间的区别，老的硬盘是串口的，新的硬盘是并口的，所以无法直接连接到电源上，需要另外增加一个转接线，一头连接电源，一头连接新的硬盘。

2.问题

将上面的问题进行一下抽象，就会发现：存在一个电源类和一个老的硬盘类，二者工作的很好，现在来了一个新的硬盘类，想让新的硬盘类与电源类工作，但是他们的接口无法匹配。这样问题就来了：如何让原有的电源类的接口适配到新的硬盘类的电源接口的需要呢？

3.模式定义

将一个类的接口转换成客户希望的另一个类的接口。适配器模式使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。

4.示例程序

①存在老版本的客户端，和老版本的日志管理系统，采用文件的方式管理日志

②存在新版本的客户端，和新版本的日志管理系统，采用数据库的方式来管理日志

③需求一：新版本的数据库方式还不稳定，所以新版本的客户端想要通过新版接口继续使用文件管理的方式，采用适配器

④需求二：希望两个版本能够同时使用，通过新老版本的客户端调用的接口，都可以使用两种方式，采用双向适配器